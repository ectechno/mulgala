<section class="content-header">
    <h1 ng-show="!isFormMode">
        User Management
    </h1>
    <h1 ng-show="isNew">
        Create User
    </h1>
    <h1 ng-show="isEdit">
        Edit User
    </h1>
    <ol class="breadcrumb" ng-show="!isFormMode">
        <li><a href="#Dashboard"><i class="fa fa-dashboard"></i> Home</a></li>
        <li><a href="#UserManagement"><i class="fa fa-users"></i>User Management</li>
    </ol>
    <ol class="breadcrumb" ng-show="isNew">
        <li><a href="#Dashboard"><i class="fa fa-dashboard"></i> Home</a></li>
        <li><a href="#UserManagement"><i class="fa fa-users"></i> User Management</a></li>
        <li class="active">Create User</li>
    </ol>
    <ol class="breadcrumb" ng-show="isEdit">
        <li><a href="#Dashboard"><i class="fa fa-dashboard"></i> Home</a></li>
        <li><a href="#UserManagement"><i class="fa fa-users"></i> User Management</a></li>
        <li class="active">Edit User</li>
    </ol>
</section>

<!-- Main content -->
<section class="content">
    <div ng-show="!isFormMode">
        <button class="btn btn-info" ng-click="createNew()">Create New User</button>
    </div>
    <table class="table table-striped" ng-show="!isFormMode">
        <thead>
            <tr>
                <th>Id</th>
                <th>Logo</th>
                <th>Name</th>
                <th>Email</th>
                <th>Logo URL</th>
                <th>Enable</th>
                <th>Role</th>
                <th>Tenant</th>
                <th>Username</th>
            </tr>
        </thead>
        <tbody ng-repeat="user in Users">
            <tr>
                <td> <span>{{user.id}}</span></td>
                <td><span><img src="{{user.logoUrl}}" style="height:35px;width:35px" /></span></td>
                <td> <span>{{user.name}}</span></td>
                <td> <span>{{user.email}}</span></td>
                <td> <span>{{user.logoUrl}}</span></td>
                <td> <span>{{user.enable}}</span></td>
                <td> <span>{{user.role}}</span></td>
                <td> <span>{{user.tenant}}</span></td>
                <td><span>{{user.userName}}</span></td>
                <td> <span><button class="btn btn-warning" ng-click="edit(user.id)">Edit</button></span></td>
                <td> <span><button class="btn btn-danger" ng-click="delete(user.id)">Delete</button></span></td>
            </tr>
        </tbody>
    </table>

    <div class="alert alert-success alert-dismissable" ng-show="isCreated">
        <i class="fa fa-check"></i>
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
        Successfully Created.
    </div>
    <div class="alert alert-success alert-dismissable" ng-show="isEdited">
        <i class="fa fa-check"></i>
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
        Successfully Edited.
    </div>
    <div class="alert alert-success alert-dismissable" ng-show="isDeleted">
        <i class="fa fa-check"></i>
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
        Successfully Deleted.
    </div>

    <form name="createUser" ng-show="isFormMode">
        <div class="form-group" ng-class="{true: 'error'}[submitted && createUser.name.$invalid]">
            <input type="text" class="form-control" id="name" name="name" placeholder="Name" ng-model="uName" autofocus required>
            <p ng-show="createUser.name.$invalid && !createUser.name.$pristine" style="color:red;">Name is required.</p>
        </div>
        <div class="form-group" ng-class="{true: 'error'}[submitted && createUser.email.$invalid]">
            <input type="email" class="form-control" id="email" name="email" placeholder="Eamil" ng-model="uEmail" required>
            <p ng-show="createUser.email.$invalid && !createUser.email.$pristine" style="color:red;">Email is required.</p>
        </div>
        <div class="form-group" ng-class="{true: 'error'}[submitted && createUser.logo.$invalid]">
            <input type="url" class="form-control" id="logo" name="logo" placeholder="Logo URL" ng-model="uLogo" required>
            <p ng-show="createUser.logo.$invalid && !createUser.logo.$pristine" style="color:red;">Logo URL is required.</p>
        </div>
        <div class="form-group" >
            <select id="tenant" name="tenant" ng-model="uSelectedTenant" class="form-control" ng-options="tenant for tenant in tenantGroup" required>
                 <option value="">Tenant</option>
            </select>
        </div>
        <div class="form-group">
            <select id="role" name="role" ng-model="uSelectedRole" class="form-control" ng-options="role for role in userNames" required>
                <option value="">Role</option>
            </select>
        </div>
        <div class="form-group" ng-class="{true: 'error'}[submitted && createUser.username.$invalid]">
            <input type="text" class="form-control" id="username" name="username" placeholder="Username" ng-model="username" required>
            <p ng-show="createUser.username.$invalid && !createUser.username.$pristine" style="color:red;">Username is required.</p>
        </div>
        <div class="form-group" ng-class="{true: 'error'}[submitted && createUser.password.$invalid]">
            <input type="password" class="form-control" id="password" name="password" placeholder="Password" ng-model="uPassword" required>
            <p ng-show="createUser.password.$invalid && !createUser.password.$pristine" style="color:red;">Password is required.</p>
        </div>
        <div class="form-group" ng-class="{true: 'error'}[submitted && createUser.cPassword.$invalid]">
            <input type="password" class="form-control" id="cPassword" name="cPassword" ng-model="cPassword" placeholder="Confirm Password" pw-check="password" required>
            <p ng-show="createUser.cPassword.$invalid && !createUser.cPassword.$pristine" style="color:red;">Passwords are not matching.</p>
        </div>
        <div class="form-group">
            <input type="radio" id="enable" name="enable" value="true" ng-model="uEnable" ng-required="!tEnable" />Enable
            <input type="radio" id="enable" name="enable" value="false" ng-model="uEnable" style="margin-left:62px" ng-required="!tEnable" />Disable
        </div>

        <input type="submit" class="btn btn-success btn-lg" value="Submit" ng-click="save();" ng-disabled="!createUser.$valid" />
        <input type="submit" class="btn btn-primary btn-lg" value="Cancel" ng-click="cancel();" />
            
    </form>
   
</section><!-- /.content -->

